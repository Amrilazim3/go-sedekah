import{_ as U}from"./AppLayout-80e23cb5.js";import{_ as D}from"./SearchInput-a65420eb.js";import{_ as y}from"./DataTable-9fd30a7b.js";import{_ as x}from"./PaginationBar-92a8c154.js";import{j as q,D as C,d as h,p as B,E as S,y as m,o as v,c,w as V,a as n,b as r,h as t,f as _}from"./app-c6a94172.js";import"./ApplicationMark-240a364d.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./menu-5c96761d.js";import"./use-resolve-button-type-ac147612.js";const j=n("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Users ",-1),E={class:"py-12"},R={class:"max-w-7xl mx-auto mb-8 sm:px-6 lg:px-8"},O={class:"bg-white p-2 sm:p-4 relative shadow-md sm:rounded-lg"},M=n("h2",{class:"text-lg font-semibold"},"Admins",-1),z={class:"max-w-7xl mx-auto mb-8 sm:px-6 lg:px-8"},F={class:"bg-white p-2 sm:p-4 relative shadow-md sm:rounded-lg"},G=n("h2",{class:"text-lg font-semibold"},"Donors",-1),H={class:"max-w-7xl mx-auto mb-8 sm:px-6 lg:px-8"},J={class:"bg-white p-2 sm:p-4 relative shadow-md sm:rounded-lg"},K=n("h2",{class:"text-lg font-semibold"},"Needy",-1),ae={__name:"Users",props:{usersData:Object,filteredData:Array,requestedData:Object},setup($){const e=$,b=q(()=>(e.requestedData.name&&e.requestedData.role=="admin"&&(e.usersData.admins.data=e.filteredData),e.usersData.admins)),g=q(()=>(e.requestedData.name&&e.requestedData.role=="donor"&&(e.usersData.donors.data=e.filteredData),e.usersData.donors)),k=q(()=>(e.requestedData.name&&e.requestedData.role=="needy"&&(e.usersData.needy.data=e.filteredData),e.usersData.needy)),p=C({name:e.requestedData.name,role:e.requestedData.role}),l=h(""),u=h(""),i=h(""),f=["Name","Email","Actions"];B(()=>{e.requestedData.role=="admin"&&(l.value=e.requestedData.name),e.requestedData.role=="donor"&&(u.value=e.requestedData.name),e.requestedData.role=="needy"&&(i.value=e.requestedData.name)});const d=S.debounce((s,a)=>{!s&&!p.name||(p.name=s,p.role=a,m.Inertia.get("/admin/users",p,{preserveScroll:!0}))},500),w=s=>{m.Inertia.post(`/admin/users/${s}/assign-role/admin`,null)},A=s=>{m.Inertia.post(`/admin/users/${s}/assign-role/needy`,null)},N=s=>{m.Inertia.delete(`/admin/users/${s}/remove-role/admin`,null)},I=s=>{m.Inertia.delete(`/admin/users/${s}/remove-role/needy`,null)};return(s,a)=>(v(),c(U,{title:"Users"},{header:V(()=>[j]),default:V(()=>[n("div",E,[n("div",R,[n("div",O,[M,r(D,{"focus-input":e.requestedData.role=="admin",placeholder:"Search admin",modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value=o),onInput:a[1]||(a[1]=o=>t(d)(l.value,"admin")),onClick:a[2]||(a[2]=o=>t(d)(l.value,"admin"))},null,8,["focus-input","modelValue"]),r(y,{"header-data":f,"body-data":t(b).data,type:"admin",onRemoveAdmin:N},null,8,["body-data"]),!e.requestedData.name||e.requestedData.role!=="admin"?(v(),c(x,{key:0,links:t(b).links},null,8,["links"])):_("",!0)])]),n("div",z,[n("div",F,[G,r(D,{"focus-input":e.requestedData.role=="donor",placeholder:"Search donor",modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=o=>u.value=o),onInput:a[4]||(a[4]=o=>t(d)(u.value,"donor")),onClick:a[5]||(a[5]=o=>t(d)(u.value,"donor"))},null,8,["focus-input","modelValue"]),r(y,{"header-data":f,"body-data":t(g).data,type:"donor",onApproveAdmin:w,onApproveNeedy:A},null,8,["body-data"]),!e.requestedData.name||e.requestedData.role!=="donor"?(v(),c(x,{key:0,links:t(g).links},null,8,["links"])):_("",!0)])]),n("div",H,[n("div",J,[K,r(D,{"focus-input":e.requestedData.role=="needy",placeholder:"Search donor",modelValue:i.value,"onUpdate:modelValue":a[6]||(a[6]=o=>i.value=o),onInput:a[7]||(a[7]=o=>t(d)(i.value,"needy")),onClick:a[8]||(a[8]=o=>t(d)(i.value,"needy"))},null,8,["focus-input","modelValue"]),r(y,{"header-data":f,"body-data":t(k).data,type:"needy",onRemoveNeedy:I},null,8,["body-data"]),!e.requestedData.name||e.requestedData.role!=="needy"?(v(),c(x,{key:0,links:t(k).links},null,8,["links"])):_("",!0)])])])]),_:1}))}};export{ae as default};
