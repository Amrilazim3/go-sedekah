import{o as r,e as d,C as A,b as t,a as e,M as F,j as O,D as H,d as R,u as G,k as h,p as P,h as s,c as D,w as n,F as m,f as L,i as S,H as Y,g as c,L as _,n as $,t as u,m as B}from"./app-33390a1a.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import{A as I}from"./ApplicationMark-562caf83.js";import{_ as K}from"./PaginationBar-455b90d0.js";import{_ as j,a as y}from"./TextInput-0feba95d.js";import{_ as b}from"./InputLabel-0870e6f6.js";import{_ as W}from"./TextAreaInput-bc0d4c84.js";import{_ as T}from"./Checkbox-9984aee3.js";import{g as J,S as Q,b as X,M as z}from"./menu-25e7c7c5.js";import{f as Z,U as ee,o as U,G as se,z as te}from"./transition-c7d8d342.js";import"./use-resolve-button-type-a1c72f78.js";const ae={},oe={class:"bg-gray-900 text-center lg:text-left"},le=A('<div class="container p-6"><div class="grid lg:grid-cols-4 md:grid-cols-2"><div class="mb-6"><h5 class="uppercase font-bold mb-2.5 text-gray-300"> Donation agency 1 </h5><ul class="list-none mb-0"><li><a href="#!" class="text-gray-300">Link 1</a></li><li><a href="#!" class="text-gray-300">Link 2</a></li><li><a href="#!" class="text-gray-300">Link 3</a></li><li><a href="#!" class="text-gray-300">Link 4</a></li></ul></div><div class="mb-6"><h5 class="uppercase font-bold mb-2.5 text-gray-300"> Donation agency 2 </h5><ul class="list-none mb-0"><li><a href="#!" class="text-gray-300">Link 1</a></li><li><a href="#!" class="text-gray-300">Link 2</a></li><li><a href="#!" class="text-gray-300">Link 3</a></li><li><a href="#!" class="text-gray-300">Link 4</a></li></ul></div><div class="mb-6"><h5 class="uppercase font-bold mb-2.5 text-gray-300"> Donation agency 3 </h5><ul class="list-none mb-0"><li><a href="#!" class="text-gray-300">Link 1</a></li><li><a href="#!" class="text-gray-300">Link 2</a></li><li><a href="#!" class="text-gray-300">Link 3</a></li><li><a href="#!" class="text-gray-300">Link 4</a></li></ul></div><div class="mb-6"><h5 class="uppercase font-bold mb-2.5 text-gray-300"> Donation agency 4 </h5><ul class="list-none mb-0"><li><a href="#!" class="text-gray-300">Link 1</a></li><li><a href="#!" class="text-gray-300">Link 2</a></li><li><a href="#!" class="text-gray-300">Link 3</a></li><li><a href="#!" class="text-gray-300">Link 4</a></li></ul></div></div></div><div class="bg-gray-900 text-white border-t border-t-gray-50 text-center p-4"> Â© 2021 Copyright: <a class="text-indigo-500" href="https://go-sedekah.amrilazim.com">Go Sedekah</a></div>',2),ie=[le];function ne(f,v){return r(),d("footer",oe,ie)}const re=q(ae,[["render",ne]]),de={class:"flex"},ce=e("h3",{class:"self-center font-semibold ml-2 text-white"},"Go Sedekah",-1),ue={__name:"ApplicationLogo",setup(f){return(v,g)=>(r(),d("div",de,[t(I),ce]))}},me={class:"relative flex min-h-screen bg-white"},fe={class:"flex w-full justify-between p-2 fixed top-0 bg-gray-900"},ge={key:0,class:"self-center"},pe={class:"hidden sm:block"},he={class:"relative sm:hidden"},_e=e("button",{class:"inline-flex items-center justify-center p-2 bg-gray-100 text-gray-500 rounded-md focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition"},[e("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})])],-1),ye={class:"mt-14 w-full"},ve={style:{"background-image":"url(http://localhost/resources/d8f80683-6d12-49cc-a24f-f44853eaaed4.jpeg)","background-repeat":"no-repeat","background-position":"center center","background-size":"cover"},class:"p-3 sm:py-8 sm:flex sm:justify-around"},be=e("div",{class:"sm:text-center sm:flex sm:items-center sm:justify-center"},[e("div",null,[e("h3",{class:"text-xl font-semibold"}," Bring lights to someone who in the dark! "),e("p",{class:"text-white font-semibold"}," Donate now and help the community! ")])],-1),xe={class:"mt-4 sm:-mt-0 lg:w-full lg:max-w-sm"},ke={class:"bg-gray-400 p-3 rounded-md"},we=e("h3",{class:"text-lg font-semibold text-center pb-3 text-gray-800"}," Recent Donator ",-1),De={class:"divide-y divide-gray-100 space-y-2"},Le={class:"text-indigo-500"},$e={class:"p-4 w-full flex justify-center md:p-6 lg:p-10"},je={class:"mx-auto py-8"},Ve=e("h2",{class:"text-lg font-medium mb-4"}," Available Donation Requests ",-1),Me={class:"bg-gray-200 rounded-lg shadow-md p-4 md:grid md:grid-cols-3"},Ce={class:"text-lg font-medium"},Re={class:"text-sm font-light text-indigo-500"},Se={class:"text-gray-600 mt-1"},Be={class:"mt-3 flex justify-end space-x-3"},ze={class:"self-end text-xs text-gray-600"},Ue={class:"text-indigo-500"},Ee=["onClick"],Ne={key:1,class:"text-lg font-semibold"},Ae=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Fe={class:"fixed inset-0 overflow-y-auto"},Oe={class:"flex min-h-full items-center justify-center p-4 text-center"},He={class:"mt-4"},Ge={class:"mt-4"},Pe={class:"mt-4"},Ye={class:"mt-4"},qe={class:"mt-4 flex"},Ie=e("div",{class:"ml-2 self-center text-sm text-gray-600"}," hide the donator information (anymous) ",-1),Ke={class:"flex justify-end space-x-1.5 mt-4"},We=["disabled"],ns={__name:"Welcome",props:{canLogin:Boolean,canRegister:Boolean,donationRequestsData:Object,recentDonationsData:Object},setup(f){var M,C;const v=f,g=F("$swal"),x=O(()=>v.donationRequestsData),p=H(v.recentDonationsData),k=R(!1),w=R(0),l=G({name:((M=h().props.value.user)==null?void 0:M.name)||"",email:((C=h().props.value.user)==null?void 0:C.email)||"",amount:"",message:"",isHidden:!1}),E=o=>{k.value=!0,w.value=o},V=()=>{k.value=!1,w.value=0,l.reset()},N=()=>{l.transform(o=>({...o})).post(`/donations/${w.value}`,{preserveScroll:!0,onSuccess:()=>{var i;g.fire({title:"Redirecting to payment page",html:"please wait for a moment...",didOpen:()=>{g.showLoading()},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1});const o=(i=h().props.value.jetstream.flash)==null?void 0:i.billplzID;window.location.href=o}})};return Echo.channel("donation").listen("RecentDonation",o=>{if(o.donation.id==p[0].id)return!1;p.pop(),p.unshift(o.donation)}),P(()=>{var o,i;(o=h().props.value.jetstream.flash)!=null&&o.successPayment&&g.fire({icon:"success",title:"Success",text:"Payment successful, thank you for your support.",showCancelButton:!1}),((i=h().props.value.jetstream.flash)==null?void 0:i.successPayment)==!1&&g.fire({icon:"error",title:"Failed",text:"Your payment cannot be process.",showCancelButton:!1})}),(o,i)=>(r(),d(m,null,[e("div",null,[t(s(Y),{title:"Welcome"}),e("div",me,[e("div",null,[e("div",fe,[t(ue,{class:"self-start"}),f.canLogin?(r(),d("div",ge,[o.$page.props.user?(r(),D(s(_),{key:0,href:o.route("dashboard.index"),class:"text-sm text-indigo-500 rounded-md outline-none bg-white p-2 hover:bg-indigo-500 hover:text-white"},{default:n(()=>[c("Dashboard")]),_:1},8,["href"])):(r(),d(m,{key:1},[e("div",pe,[t(s(_),{href:o.route("login"),class:"text-sm text-indigo-500 rounded-md outline-none bg-white p-2 hover:bg-indigo-500 hover:text-white"},{default:n(()=>[c("Log in")]),_:1},8,["href"]),f.canRegister?(r(),D(s(_),{key:0,href:o.route("register"),class:"ml-2 text-sm text-indigo-500 rounded-md outline-none bg-white p-2 hover:bg-indigo-500 hover:text-white"},{default:n(()=>[c("Register")]),_:1},8,["href"])):L("",!0)]),e("div",he,[t(s(J),null,{default:n(()=>[t(s(Q),null,{default:n(()=>[_e]),_:1}),t(s(X),{class:"absolute right-0 w-32 rounded-md p-2 mt-3 bg-gray-900"},{default:n(()=>[t(s(z),{as:"div"},{default:n(({active:a})=>[t(s(_),{href:o.route("login"),class:$([{"text-indigo-500":a,"text-white":!a},"flex"])},{default:n(()=>[c(" login ")]),_:2},1032,["href","class"])]),_:1}),t(s(z),{as:"div"},{default:n(({active:a})=>[t(s(_),{href:o.route("register"),class:$([{"text-indigo-500":a,"text-white":!a},"flex"])},{default:n(()=>[c(" register ")]),_:2},1032,["href","class"])]),_:1})]),_:1})]),_:1})])],64))])):L("",!0)])]),e("main",ye,[e("div",ve,[be,e("div",xe,[e("div",ke,[we,e("div",De,[p.length>0?(r(!0),d(m,{key:0},S(p,a=>(r(),d("div",{key:a.id,class:"p-1 bg-white rounded-md"},[e("p",null,[e("span",Le,u(a.is_hidden?"Someone":a.user.name),1),c(" just donated "+u(a.amount)+" MYR ",1)])]))),128)):(r(),d(m,{key:1},[],64))])])])]),e("div",$e,[e("div",je,[Ve,e("div",Me,[s(x).data.length>0?(r(),d(m,{key:0},[(r(!0),d(m,null,S(s(x).data,a=>(r(),d("div",{key:a.id,class:"mb-4 md:col-span-1 md:pr-3 lg:pr-5"},[e("h3",Ce,[c(u(a.title)+" ",1),e("span",Re,u(a.user.name),1)]),e("p",Se,u(a.detail),1),e("div",Be,[e("div",ze,[e("span",Ue,u(a.progress),1),c(" ("+u(a.currently_received)+" MYR / "+u(a.target_amount)+" MYR) ",1)]),e("button",{class:"bg-indigo-500 text-white py-2 px-4 rounded-md hover:bg-indigo-600",onClick:B(Te=>E(a.id),["prevent"])}," Donate ",8,Ee)])]))),128)),t(K,{links:s(x).links},null,8,["links"])],64)):(r(),d("p",Ne," No donation requests yet... "))])])])])]),t(re)]),t(s(Z),{appear:"",show:k.value,as:"template"},{default:n(()=>[t(s(ee),{as:"div",onClose:V,class:"relative z-10"},{default:n(()=>[t(s(U),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[Ae]),_:1}),e("div",Fe,[e("div",Oe,[t(s(U),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t(s(se),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("form",{onSubmit:i[5]||(i[5]=B(a=>N(),["prevent"]))},[t(s(te),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:n(()=>[c(" Donate form ")]),_:1}),e("div",He,[t(b,{for:"name",value:"Name"}),t(j,{id:"name",modelValue:s(l).name,"onUpdate:modelValue":i[0]||(i[0]=a=>s(l).name=a),type:"text",class:"mt-1 block w-full",required:"",autofocus:!o.$page.props.user,readonly:o.$page.props.user,placeholder:"john doe"},null,8,["modelValue","autofocus","readonly"]),t(y,{class:"mt-2",message:s(l).errors.name},null,8,["message"])]),e("div",Ge,[t(b,{for:"email",value:"Email Address"}),t(j,{id:"email",modelValue:s(l).email,"onUpdate:modelValue":i[1]||(i[1]=a=>s(l).email=a),type:"email",class:"mt-1 block w-full",required:"",readonly:o.$page.props.user,placeholder:"johndoe@gmail.com"},null,8,["modelValue","readonly"]),t(y,{class:"mt-2",message:s(l).errors.email},null,8,["message"])]),e("div",Pe,[t(b,{for:"amount",value:"Amount"}),t(j,{id:"amount",modelValue:s(l).amount,"onUpdate:modelValue":i[2]||(i[2]=a=>s(l).amount=a),type:"number",class:"mt-1 block w-full",required:"",autofocus:o.$page.props.user,placeholder:"50"},null,8,["modelValue","autofocus"]),t(y,{class:"mt-2",message:s(l).errors.amount},null,8,["message"])]),e("div",Ye,[t(b,{for:"message",value:"Message"}),t(W,{id:"message",modelValue:s(l).message,"onUpdate:modelValue":i[3]||(i[3]=a=>s(l).message=a),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),t(y,{class:"mt-2",message:s(l).errors.message},null,8,["message"])]),e("div",qe,[t(T,{id:"is-hidden",checked:s(l).isHidden,"onUpdate:checked":i[4]||(i[4]=a=>s(l).isHidden=a),class:"self-center"},null,8,["checked"]),Ie]),e("div",Ke,[e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-red-500 px-4 py-2 text-sm font-medium text-gray-800 hover:bg-red-400 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",onClick:V}," Cancel "),e("button",{type:"submit",class:$(["inline-flex justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",s(l).processing?"bg-indigo-100 cursor-not-allowed":"bg-indigo-500 hover:bg-indigo-400"]),disabled:s(l).processing}," Submit ",10,We)]),o.$page.props.errors.billplzError?(r(),D(y,{key:0,class:"mt-2",message:o.$page.props.errors.billplzError[0]},null,8,["message"])):L("",!0)],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}};export{ns as default};
