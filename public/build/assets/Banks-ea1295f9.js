import{M as y,d as _,u as w,o as f,c as p,w as l,a as e,b as a,n as m,h as t,m as C,g as V,f as B,y as N}from"./app-93d7fae2.js";import{_ as A}from"./AppLayout-b9f3732f.js";import{_ as b,a as d}from"./TextInput-1297d6b6.js";import{_ as u}from"./InputLabel-a60e17fb.js";import{_ as $}from"./SelectInput-09c371a1.js";import{_ as S}from"./DataTable-32718ce4.js";import{U as j,o as g,G as z,z as I,f as U}from"./transition-90d5cd5e.js";import"./ApplicationMark-4770a696.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./menu-194302e8.js";import"./use-resolve-button-type-e2cca0ba.js";const q=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Banks ",-1),Y={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},D={class:"space-y-4"},M=e("div",{class:"px-4"},[e("h3",{class:"text-md"},"Your banks"),e("p",{class:"text-sm text-gray-700"}," View and setup your banks used to received a donation. ")],-1),E={class:"bg-white p-2 sm:p-4 relative overflow-x-hidden shadow-md sm:rounded-lg"},G={class:"flex justify-end space-x-3 mt-3"},T=["disabled"],F=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),O={class:"fixed inset-0 overflow-y-auto"},H={class:"flex min-h-full items-center justify-center p-4 text-center"},J=["onSubmit"],K={class:"mt-4"},L={class:"mt-4"},P={class:"mt-4"},Q={class:"mt-4"},R=e("div",{class:"mt-4"},[e("p",{class:"text-sm text-gray-700"}," Your card will be validated within 3 days before can be use to receive donation in our application. ")],-1),W={class:"flex justify-end space-x-1.5 mt-4"},X=["disabled"],ce={__name:"Banks",props:{banksName:Array,banks:Array},setup(i){const v=y("$swal"),c=_(!1),k=()=>!1,s=w({name:"",bankAccountNumber:"",bankAccountIc:"",bankCode:""}),x=()=>{s.transform(r=>({...r})).post(route("needy.banks.store"),{preserveScroll:!0,onSuccess:()=>{c.value=!1,s.reset()}})},h=r=>{v.fire({title:"Delete this bank account?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"color: rgb(99 102 241);",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(o=>{o.value&&N.Inertia.delete(`/needy/banks/${r}`,{preserveScroll:!0})})};return(r,o)=>(f(),p(A,{title:"Banks"},{header:l(()=>[q]),default:l(()=>[e("div",null,[e("div",Y,[e("div",D,[M,e("div",E,[a(S,{"header-data":["#","Name","Account Number","Identity Card Number","Actions"],"body-data":i.banks,onDeleteBank:h},null,8,["body-data"]),e("div",G,[e("h3",{class:m(["text-sm font-light self-center text-red-500",i.banks.length==3?"":"hidden"])}," Can only have 3 bank accounts. ",2),e("button",{class:m(["text-sm font-semibold rounded-md px-3 py-2",i.banks.length==3?"bg-gray-200 cursor-not-allowed":"bg-indigo-500 hover:bg-indigo-400 text-white"]),onClick:o[0]||(o[0]=n=>c.value=!0),disabled:i.banks.length==3}," add new bank ",10,T)])])])]),a(t(U),{appear:"",show:c.value,as:"template"},{default:l(()=>[a(t(j),{as:"div",onClose:k,class:"relative z-10"},{default:l(()=>[a(t(g),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>[F]),_:1}),e("div",O,[e("div",H,[a(t(g),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:l(()=>[a(t(z),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:l(()=>[e("form",{onSubmit:C(x,["prevent"])},[a(t(I),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:l(()=>[V(" Add New Bank ")]),_:1}),e("div",K,[a(u,{for:"name",value:"Name on card"}),a(b,{id:"name",modelValue:t(s).name,"onUpdate:modelValue":o[1]||(o[1]=n=>t(s).name=n),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",placeholder:"ali bin abu"},null,8,["modelValue"]),a(d,{class:"mt-2",message:t(s).errors.name},null,8,["message"])]),e("div",L,[a(u,{for:"bank-acc-number",value:"Bank account number"}),a(b,{id:"bank-acc-number",modelValue:t(s).bankAccountNumber,"onUpdate:modelValue":o[2]||(o[2]=n=>t(s).bankAccountNumber=n),type:"text",class:"mt-1 block w-full",required:"",placeholder:"15158221292"},null,8,["modelValue"]),r.$page.props.errors.billplzError?(f(),p(d,{key:0,class:"mt-2",message:r.$page.props.errors.billplzError[0]},null,8,["message"])):B("",!0),a(d,{class:"mt-2",message:t(s).errors.bankAccountNumber},null,8,["message"])]),e("div",P,[a(u,{for:"bank-acc-ic",value:"Bank account identity card"}),a(b,{id:"bank-acc-ic",modelValue:t(s).bankAccountIc,"onUpdate:modelValue":o[3]||(o[3]=n=>t(s).bankAccountIc=n),type:"text",class:"mt-1 block w-full",required:"",placeholder:"080908010922"},null,8,["modelValue"]),a(d,{class:"mt-2",message:t(s).errors.bankAccountIc},null,8,["message"])]),e("div",Q,[a(u,{for:"bank-name",value:"Bank name"}),a($,{id:"bank-name",modelValue:t(s).bankCode,"onUpdate:modelValue":o[4]||(o[4]=n=>t(s).bankCode=n),data:i.banksName,class:"mt-1 block w-full",required:""},null,8,["modelValue","data"]),a(d,{class:"mt-2",message:t(s).errors.bankCode},null,8,["message"])]),R,e("div",W,[e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-red-500 px-4 py-2 text-sm font-medium text-gray-800 hover:bg-red-400 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",onClick:o[5]||(o[5]=n=>c.value=!1)}," Cancel "),e("button",{type:"submit",class:m(["inline-flex justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",t(s).processing?"bg-indigo-100 cursor-not-allowed":"bg-indigo-500 hover:bg-indigo-400"]),disabled:t(s).processing}," Save ",10,X)])],40,J)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1}))}};export{ce as default};
