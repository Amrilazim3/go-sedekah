import{o as b,u as U,c as q,l as R,P as y,t as F,b as V,p as X,R as C,a as I}from"./use-resolve-button-type-e2cca0ba.js";import{G as A,I as M,d as h,j as S,J as P,K as J,p as _,q as Q,M as Y}from"./app-93d7fae2.js";function $(e){throw new Error("Unexpected object: "+e)}var x=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(x||{});function Z(e,r){let o=r.resolveItems();if(o.length<=0)return null;let s=r.resolveActiveIndex(),t=s??-1,a=(()=>{switch(e.focus){case 0:return o.findIndex(u=>!r.resolveDisabled(u));case 1:{let u=o.slice().reverse().findIndex((i,f,c)=>t!==-1&&c.length-f-1>=t?!1:!r.resolveDisabled(i));return u===-1?u:o.length-1-u}case 2:return o.findIndex((u,i)=>i<=t?!1:!r.resolveDisabled(u));case 3:{let u=o.slice().reverse().findIndex(i=>!r.resolveDisabled(i));return u===-1?u:o.length-1-u}case 4:return o.findIndex(u=>r.resolveId(u)===e.id);case 5:return null;default:$(e)}})();return a===-1?s:a}const B=typeof window>"u"||typeof document>"u";function O(e){if(B)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let r=b(e);if(r)return r.ownerDocument}return document}function z({container:e,accept:r,walk:o,enabled:s}){A(()=>{let t=e.value;if(!t||s!==void 0&&!s.value)return;let a=O(e);if(!a)return;let u=Object.assign(f=>r(f),{acceptNode:r}),i=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;i.nextNode();)o(i.currentNode)})}let T=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var D=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(D||{}),ee=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ee||{}),te=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(te||{});function K(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(T)).sort((r,o)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(o.tabIndex||Number.MAX_SAFE_INTEGER)))}var k=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(k||{});function L(e,r=0){var o;return e===((o=O(e))==null?void 0:o.body)?!1:U(r,{[0](){return e.matches(T)},[1](){let s=e;for(;s!==null;){if(s.matches(T))return!0;s=s.parentElement}return!1}})}function W(e){let r=O(e);M(()=>{r&&!L(r.activeElement,0)&&ne(e)})}function ne(e){e==null||e.focus({preventScroll:!0})}let re=["textarea","input"].join(",");function le(e){var r,o;return(o=(r=e==null?void 0:e.matches)==null?void 0:r.call(e,re))!=null?o:!1}function G(e,r=o=>o){return e.slice().sort((o,s)=>{let t=r(o),a=r(s);if(t===null||a===null)return 0;let u=t.compareDocumentPosition(a);return u&Node.DOCUMENT_POSITION_FOLLOWING?-1:u&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ue(e,r){return oe(K(),r,{relativeTo:e})}function oe(e,r,{sorted:o=!0,relativeTo:s=null,skipElements:t=[]}={}){var a;let u=(a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?a:document,i=Array.isArray(e)?o?G(e):e:K(e);t.length>0&&(i=i.filter(l=>!t.includes(l))),s=s??u.activeElement;let f=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,i.indexOf(s))-1;if(r&4)return Math.max(0,i.indexOf(s))+1;if(r&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),n=r&32?{preventScroll:!0}:{},m=0,d=i.length,v;do{if(m>=d||m+d<=0)return 0;let l=c+m;if(r&16)l=(l+d)%d;else{if(l<0)return 3;if(l>=d)return 1}v=i[l],v==null||v.focus(n),m+=f}while(v!==u.activeElement);return r&6&&le(v)&&v.select(),v.hasAttribute("tabindex")||v.setAttribute("tabindex","0"),2}function N(e,r,o){B||A(s=>{document.addEventListener(e,r,o),s(()=>document.removeEventListener(e,r,o))})}function ae(e,r,o=S(()=>!0)){function s(a,u){if(!o.value||a.defaultPrevented)return;let i=u(a);if(i===null||!i.getRootNode().contains(i))return;let f=function c(n){return typeof n=="function"?c(n()):Array.isArray(n)||n instanceof Set?n:[n]}(e);for(let c of f){if(c===null)continue;let n=c instanceof HTMLElement?c:b(c);if(n!=null&&n.contains(i)||a.composed&&a.composedPath().includes(n))return}return!L(i,k.Loose)&&i.tabIndex!==-1&&a.preventDefault(),r(a,i)}let t=h(null);N("mousedown",a=>{var u,i;o.value&&(t.value=((i=(u=a.composedPath)==null?void 0:u.call(a))==null?void 0:i[0])||a.target)},!0),N("click",a=>{!t.value||(s(a,()=>t.value),t.value=null)},!0),N("blur",a=>s(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function j(e){return[e.screenX,e.screenY]}function ie(){let e=h([-1,-1]);return{wasMoved(r){let o=j(r);return e.value[0]===o[0]&&e.value[1]===o[1]?!1:(e.value=o,!0)},update(r){e.value=j(r)}}}var se=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(se||{}),ce=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ce||{});function de(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let H=Symbol("MenuContext");function E(e){let r=Y(H,null);if(r===null){let o=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,E),o}return r}let pe=P({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:r,attrs:o}){let s=h(1),t=h(null),a=h(null),u=h([]),i=h(""),f=h(null),c=h(1);function n(d=v=>v){let v=f.value!==null?u.value[f.value]:null,l=G(d(u.value.slice()),g=>b(g.dataRef.domRef)),p=v?l.indexOf(v):null;return p===-1&&(p=null),{items:l,activeItemIndex:p}}let m={menuState:s,buttonRef:t,itemsRef:a,items:u,searchQuery:i,activeItemIndex:f,activationTrigger:c,closeMenu:()=>{s.value=1,f.value=null},openMenu:()=>s.value=0,goToItem(d,v,l){let p=n(),g=Z(d===x.Specific?{focus:x.Specific,id:v}:{focus:d},{resolveItems:()=>p.items,resolveActiveIndex:()=>p.activeItemIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.disabled});i.value="",f.value=g,c.value=l??1,u.value=p.items},search(d){let v=i.value!==""?0:1;i.value+=d.toLowerCase();let l=(f.value!==null?u.value.slice(f.value+v).concat(u.value.slice(0,f.value+v)):u.value).find(g=>g.dataRef.textValue.startsWith(i.value)&&!g.dataRef.disabled),p=l?u.value.indexOf(l):-1;p===-1||p===f.value||(f.value=p,c.value=1)},clearSearch(){i.value=""},registerItem(d,v){let l=n(p=>[...p,{id:d,dataRef:v}]);u.value=l.items,f.value=l.activeItemIndex,c.value=1},unregisterItem(d){let v=n(l=>{let p=l.findIndex(g=>g.id===d);return p!==-1&&l.splice(p,1),l});u.value=v.items,f.value=v.activeItemIndex,c.value=1}};return ae([t,a],(d,v)=>{var l;m.closeMenu(),L(v,k.Loose)||(d.preventDefault(),(l=b(t))==null||l.focus())},S(()=>s.value===0)),J(H,m),q(S(()=>U(s.value,{[0]:R.Open,[1]:R.Closed}))),()=>{let d={open:s.value===0,close:m.closeMenu};return y({ourProps:{},theirProps:e,slot:d,slots:r,attrs:o,name:"Menu"})}}}),me=P({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${F()}`}},setup(e,{attrs:r,slots:o,expose:s}){let t=E("MenuButton");s({el:t.buttonRef,$el:t.buttonRef});function a(c){switch(c.key){case I.Space:case I.Enter:case I.ArrowDown:c.preventDefault(),c.stopPropagation(),t.openMenu(),M(()=>{var n;(n=b(t.itemsRef))==null||n.focus({preventScroll:!0}),t.goToItem(x.First)});break;case I.ArrowUp:c.preventDefault(),c.stopPropagation(),t.openMenu(),M(()=>{var n;(n=b(t.itemsRef))==null||n.focus({preventScroll:!0}),t.goToItem(x.Last)});break}}function u(c){switch(c.key){case I.Space:c.preventDefault();break}}function i(c){e.disabled||(t.menuState.value===0?(t.closeMenu(),M(()=>{var n;return(n=b(t.buttonRef))==null?void 0:n.focus({preventScroll:!0})})):(c.preventDefault(),t.openMenu(),de(()=>{var n;return(n=b(t.itemsRef))==null?void 0:n.focus({preventScroll:!0})})))}let f=V(S(()=>({as:e.as,type:r.type})),t.buttonRef);return()=>{var c;let n={open:t.menuState.value===0},{id:m,...d}=e,v={ref:t.buttonRef,id:m,type:f.value,"aria-haspopup":"menu","aria-controls":(c=b(t.itemsRef))==null?void 0:c.id,"aria-expanded":e.disabled?void 0:t.menuState.value===0,onKeydown:a,onKeyup:u,onClick:i};return y({ourProps:v,theirProps:d,slot:n,attrs:r,slots:o,name:"MenuButton"})}}}),be=P({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${F()}`}},setup(e,{attrs:r,slots:o,expose:s}){let t=E("MenuItems"),a=h(null);s({el:t.itemsRef,$el:t.itemsRef}),z({container:S(()=>b(t.itemsRef)),enabled:S(()=>t.menuState.value===0),accept(n){return n.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:n.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(n){n.setAttribute("role","none")}});function u(n){var m;switch(a.value&&clearTimeout(a.value),n.key){case I.Space:if(t.searchQuery.value!=="")return n.preventDefault(),n.stopPropagation(),t.search(n.key);case I.Enter:if(n.preventDefault(),n.stopPropagation(),t.activeItemIndex.value!==null){let d=t.items.value[t.activeItemIndex.value];(m=b(d.dataRef.domRef))==null||m.click()}t.closeMenu(),W(b(t.buttonRef));break;case I.ArrowDown:return n.preventDefault(),n.stopPropagation(),t.goToItem(x.Next);case I.ArrowUp:return n.preventDefault(),n.stopPropagation(),t.goToItem(x.Previous);case I.Home:case I.PageUp:return n.preventDefault(),n.stopPropagation(),t.goToItem(x.First);case I.End:case I.PageDown:return n.preventDefault(),n.stopPropagation(),t.goToItem(x.Last);case I.Escape:n.preventDefault(),n.stopPropagation(),t.closeMenu(),M(()=>{var d;return(d=b(t.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case I.Tab:n.preventDefault(),n.stopPropagation(),t.closeMenu(),M(()=>ue(b(t.buttonRef),n.shiftKey?D.Previous:D.Next));break;default:n.key.length===1&&(t.search(n.key),a.value=setTimeout(()=>t.clearSearch(),350));break}}function i(n){switch(n.key){case I.Space:n.preventDefault();break}}let f=X(),c=S(()=>f!==null?f.value===R.Open:t.menuState.value===0);return()=>{var n,m;let d={open:t.menuState.value===0},{id:v,...l}=e,p={"aria-activedescendant":t.activeItemIndex.value===null||(n=t.items.value[t.activeItemIndex.value])==null?void 0:n.id,"aria-labelledby":(m=b(t.buttonRef))==null?void 0:m.id,id:v,onKeydown:u,onKeyup:i,role:"menu",tabIndex:0,ref:t.itemsRef};return y({ourProps:p,theirProps:l,slot:d,attrs:r,slots:o,features:C.RenderStrategy|C.Static,visible:c.value,name:"MenuItems"})}}}),Ie=P({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${F()}`}},setup(e,{slots:r,attrs:o,expose:s}){let t=E("MenuItem"),a=h(null);s({el:a,$el:a});let u=S(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===e.id:!1),i=S(()=>({disabled:e.disabled,textValue:"",domRef:a}));_(()=>{var l,p;let g=(p=(l=b(a))==null?void 0:l.textContent)==null?void 0:p.toLowerCase().trim();g!==void 0&&(i.value.textValue=g)}),_(()=>t.registerItem(e.id,i)),Q(()=>t.unregisterItem(e.id)),A(()=>{t.menuState.value===0&&(!u.value||t.activationTrigger.value!==0&&M(()=>{var l,p;return(p=(l=b(a))==null?void 0:l.scrollIntoView)==null?void 0:p.call(l,{block:"nearest"})}))});function f(l){if(e.disabled)return l.preventDefault();t.closeMenu(),W(b(t.buttonRef))}function c(){if(e.disabled)return t.goToItem(x.Nothing);t.goToItem(x.Specific,e.id)}let n=ie();function m(l){n.update(l)}function d(l){!n.wasMoved(l)||e.disabled||u.value||t.goToItem(x.Specific,e.id,0)}function v(l){!n.wasMoved(l)||e.disabled||!u.value||t.goToItem(x.Nothing)}return()=>{let{disabled:l}=e,p={active:u.value,disabled:l,close:t.closeMenu},{id:g,...w}=e;return y({ourProps:{id:g,ref:a,role:"menuitem",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,onClick:f,onFocus:c,onPointerenter:m,onMouseenter:m,onPointermove:d,onMousemove:d,onPointerleave:v,onMouseleave:v},theirProps:w,slot:p,attrs:o,slots:r,name:"MenuItem"})}}});export{ne as H,Ie as M,D as N,oe as O,me as S,ee as T,be as b,B as e,pe as g,O as m,ae as y};
