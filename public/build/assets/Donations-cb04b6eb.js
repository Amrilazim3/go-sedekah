import{_ as K}from"./AppLayout-d652bf1f.js";import{o as u,e as p,a as e,d as k,j as P,p as O,b as o,h as s,M as N,w as r,g as h,t as f,T as F,n as g,F as $,i as X,f as q,y as w,u as J,m as W,E as T,c as R}from"./app-70786415.js";import{_ as V}from"./SearchInput-fa33dd85.js";import{_ as U}from"./DataTable-5870d997.js";import{_ as Q}from"./PaginationBar-ce863bcd.js";import{V as B,r as A,X as I,Q as M}from"./disclosure-38406bec.js";import{S as G,b as Y,M as _,g as L}from"./menu-ff4140a2.js";import{_ as z,a as j}from"./TextInput-e23bfd8b.js";import{_ as C}from"./InputLabel-b633dc62.js";import{_ as Z}from"./TextAreaInput-f8c6e8f5.js";import{_ as ee}from"./SelectInput-5edaf883.js";import{U as te,o as E,G as se,z as ae,f as oe}from"./transition-e9887bce.js";import"./ApplicationMark-9a0d3a62.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-resolve-button-type-aaf2c4d3.js";function ne(x,t){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function re(x,t){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function le(x,t){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M16.403 12.652a3 3 0 000-5.304 3 3 0 00-3.75-3.751 3 3 0 00-5.305 0 3 3 0 00-3.751 3.75 3 3 0 000 5.305 3 3 0 003.75 3.751 3 3 0 005.305 0 3 3 0 003.751-3.75zm-2.546-4.46a.75.75 0 00-1.214-.883l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule":"evenodd"})])}function H(x,t){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})])}const ie={class:"max-w-7xl mx-auto mb-8 sm:px-6 lg:px-8"},de={class:"bg-white p-2 sm:p-4 relative shadow-md sm:rounded-lg"},ue=e("h2",{class:"text-lg font-semibold"},"Your donation histories",-1),me={__name:"Donor",props:{donorData:Object,queryParams:Object,queryResult:Object},emits:["searchQuery"],setup(x){const t=x,c=k(""),d=P(()=>(t.queryParams.role=="donor"&&(t.donorData.historiesData.data=t.queryResult),t.donorData.historiesData));return O(()=>{t.queryParams.search&&t.queryParams.role=="donor"&&(c.value=t.queryParams.search)}),(m,l)=>(u(),p("div",ie,[e("div",de,[ue,o(V,{"focus-input":t.queryParams.model=="Donation"&&t.queryParams.role=="donor",placeholder:"Search receiver / title",modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=v=>c.value=v),onInput:l[1]||(l[1]=v=>m.$emit("searchQuery",c.value,"","donor","Donation")),onClick:l[2]||(l[2]=v=>m.$emit("searchQuery",c.value,"","donor","Donation"))},null,8,["focus-input","modelValue"]),o(U,{"header-data":["#","Receiver","Title","Amount","Date","Receipt"],"body-data":s(d).data,type:"histories"},null,8,["body-data"]),o(Q,{links:s(d).links},null,8,["links"])])]))}},ce={class:"max-w-7xl mx-auto mb-8 sm:px-6 lg:px-8"},fe={class:"bg-white p-2 sm:p-4 relative shadow-md sm:rounded-lg"},ye=e("h2",{class:"text-lg font-semibold"},"User donation requests",-1),pe={class:"sm:flex sm:space-x-1.5"},ge={class:"px-1 py-1"},ve={class:"space-y-4 sm:space-y-6"},xe={key:0,class:"relative rounded-md shadow-sm"},he={class:"px-4 py-5 bg-green-100 rounded-tr-md rounded-tl-md sm:p-6"},_e={class:"flex items-center justify-between"},be={class:"text-md font-semibold leading-5 text-indigo-500"},qe=e("span",{class:"text-green-500"},"(Approved)",-1),we={class:"mt-2 flex justify-between leading-5"},De={class:"text-md font-medium text-gray-900 underline"},$e={class:"text-gray-600 text-sm"},ke=e("span",null,"Expand",-1),Pe={class:"mt-2 sm:flex sm:justify-between"},Re={class:"sm:flex"},je={class:"mr-6 text-sm leading-5 text-gray-500"},Ce=e("h4",{class:"text-gray-700"}," Detail ",-1),Ve={class:"mt-4 sm:mt-0 sm:ml-4 sm:flex-shrink-0 sm:flex sm:justify-end"},Qe=e("dt",{class:"text-sm text-gray-700"}," Current Donation Received ",-1),Se={class:"text-sm leading-5 font-medium text-blue-600"},Be={class:"sm:ml-4"},Ae=e("dt",{class:"text-sm text-gray-700"}," Donation Goals ",-1),Ie={class:"text-sm leading-5 font-medium text-green-600"},Me={class:"bg-gray-100 rounded-br-md rounded-bl-md px-4 py-4 sm:px-6"},Oe={class:"text-sm leading-5"},Ue=e("a",{href:"#",class:"font-medium text-indigo-600 hover:text-indigo-500 transition duration-150 ease-in-out"}," View More ",-1),Te=["onClick"],ze={key:1,class:"inline-flex ml-1.5"},Ee=e("span",{class:"text-blue-500"},"verififed",-1),Ne={key:1,class:"relative rounded-md shadow-sm"},Fe={class:"px-4 py-5 bg-orange-100 rounded-tr-md rounded-tl-md sm:p-6"},Ge={class:"flex items-center justify-between"},Ye={class:"text-md font-semibold leading-5 text-indigo-500"},Le=e("span",{class:"text-orange-500"},"(Pending)",-1),He={class:"mt-2 flex justify-between leading-5"},Ke={class:"text-md font-medium text-gray-900 underline"},Xe={class:"text-gray-600 text-sm"},Je=e("span",null,"Expand",-1),We={class:"mt-2 sm:flex sm:justify-between"},Ze={class:"sm:flex"},et={class:"mr-6 text-sm leading-5 text-gray-500"},tt=e("h4",{class:"text-gray-700"}," Detail ",-1),st={class:"mt-4 sm:mt-0 sm:ml-4 sm:flex-shrink-0 sm:flex sm:justify-end"},at=e("dt",{class:"text-sm text-gray-700"}," Donation Goals ",-1),ot={class:"text-sm leading-5 font-medium text-green-600"},nt={class:"bg-gray-100 rounded-br-md rounded-bl-md px-4 py-4 sm:px-6"},rt={class:"flex space-x-3 text-sm leading-5"},lt=["onClick"],it=["onClick"],dt={key:2,class:"relative rounded-md shadow-sm"},ut={class:"px-4 py-5 bg-red-100 rounded-tr-md rounded-tl-md sm:p-6"},mt={class:"flex items-center justify-between"},ct={class:"text-md font-semibold leading-5 text-indigo-500"},ft=e("span",{class:"text-red-500"},"(Rejected)",-1),yt={class:"mt-2 flex justify-between leading-5"},pt={class:"text-md font-medium text-gray-900 underline"},gt={class:"text-gray-600 text-sm"},vt=e("span",null,"Expand",-1),xt={class:"mt-2 sm:flex sm:justify-between"},ht={class:"sm:flex"},_t={class:"mr-6 text-sm leading-5 text-gray-500"},bt=e("h4",{class:"text-gray-700"}," Detail ",-1),qt={key:1,class:"text-md mt-2"},wt={class:"max-w-7xl mx-auto mb-8 sm:px-6 lg:px-8"},Dt={class:"bg-white p-2 sm:p-4 relative shadow-md sm:rounded-lg"},$t=e("h2",{class:"text-lg font-semibold"},"User donation histories",-1),kt={__name:"Admin",props:{adminData:Object,queryParams:Object,queryResult:Object},emits:["searchQuery","statusQuery"],setup(x){const t=x,c=N("$swal"),d=k(""),m=k(""),l=P(()=>(t.queryParams.role=="admin"&&t.queryParams.model=="DonationRequest"&&(t.queryParams.search?t.adminData.requestsData.data=t.queryResult:t.adminData.requestsData=t.queryResult),t.adminData.requestsData)),v=P(()=>(t.queryParams.role=="admin"&&t.queryParams.model=="Donation"&&(t.adminData.usersData.data=t.queryResult),t.adminData.usersData)),b=i=>{c.fire({title:"Approve this donation request?",text:"Everyone can donate after this.",icon:"info",showCancelButton:!0,confirmButtonColor:"color: rgb(99 102 241);",cancelButtonColor:"#d33",confirmButtonText:"Approve"}).then(n=>{n.value&&w.Inertia.patch(`/admin/donation-request/${i}/approve`,{},{preserveScroll:!1})})},D=i=>{c.fire({title:"Reject this request?",icon:"warning",showCancelButton:!0,confirmButtonColor:"color: rgb(99 102 241);",cancelButtonColor:"#d33",confirmButtonText:"Reject"}).then(n=>{n.value&&w.Inertia.patch(`/admin/donation-request/${i}/reject`,{},{preserveScroll:!1})})},S=i=>{c.fire({title:"Verify this donation request?",text:"Confirm that this user is successfully providing the legit prove to us?",icon:"warning",showCancelButton:!0,confirmButtonColor:"color: rgb(99 102 241);",cancelButtonColor:"#d33",confirmButtonText:"Verify"}).then(n=>{n.value&&w.Inertia.patch(`/admin/donation-request/${i}/verify`,{},{preserveScroll:!1})})};return O(()=>{t.queryParams.search&&t.queryParams.role=="admin"&&t.queryParams.model=="DonationRequest"&&(d.value=t.queryParams.search),t.queryParams.search&&t.queryParams.role=="admin"&&t.queryParams.model=="Donation"&&(m.value=t.queryParams.search)}),(i,n)=>(u(),p($,null,[e("div",ce,[e("div",fe,[ye,e("div",pe,[o(V,{"focus-input":!!(t.queryParams.search&&t.queryParams.role=="admin"&&t.queryParams.model=="DonationRequest"),placeholder:"Search needy's name / title",class:"sm:w-full",modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=a=>d.value=a),onInput:n[1]||(n[1]=a=>i.$emit("searchQuery",d.value,"","admin","DonationRequest")),onClick:n[2]||(n[2]=a=>i.$emit("searchQuery",d.value,"","admin","DonationRequest"))},null,8,["focus-input","modelValue"]),o(s(L),{as:"div",class:"relative text-left mb-4 sm:self-center sm:-mb-0"},{default:r(()=>[e("div",null,[o(s(G),{class:"inline-flex w-full justify-center rounded-md bg-indigo-500 px-4 py-2 text-sm font-medium text-white hover:bg-opacity-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},{default:r(()=>[h(f(t.queryParams.status?t.queryParams.status:"options")+" ",1),o(s(H),{class:"ml-2 -mr-1 h-5 w-5 text-violet-200 hover:text-violet-100","aria-hidden":"true"})]),_:1})]),o(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r(()=>[o(s(Y),{class:"absolute mt-2 z-20 w-full sm:w-26 divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:r(()=>[e("div",ge,[o(s(_),null,{default:r(({active:a})=>[e("button",{class:g([a?"bg-gray-200":"","group text-gray-900 flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:n[3]||(n[3]=y=>i.$emit("statusQuery","","","admin","DonationRequest"))}," None ",2)]),_:1}),o(s(_),null,{default:r(({active:a})=>[e("button",{class:g([a?"bg-gray-200":"",t.queryParams.status=="approved"?"bg-gray-200":"","group text-indigo-500 flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:n[4]||(n[4]=y=>i.$emit("statusQuery","","approved","admin","DonationRequest"))}," Approved ",2)]),_:1}),o(s(_),null,{default:r(({active:a})=>[e("button",{class:g([a?"bg-gray-200":"",t.queryParams.status=="pending"?"bg-gray-200":"","group text-orange-500 flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:n[5]||(n[5]=y=>i.$emit("statusQuery","","pending","admin","DonationRequest"))}," Pending ",2)]),_:1}),o(s(_),null,{default:r(({active:a})=>[e("button",{class:g([a?"bg-gray-200":"",t.queryParams.status=="rejected"?"bg-gray-200":"","group text-red-500 flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:n[6]||(n[6]=y=>i.$emit("statusQuery","","rejected","admin","DonationRequest"))}," Rejected ",2)]),_:1})])]),_:1})]),_:1})]),_:1})]),e("div",ve,[s(l).data.length>0?(u(!0),p($,{key:0},X(s(l).data,a=>(u(),p($,{key:a.id},[a.status=="approved"?(u(),p("div",xe,[e("div",he,[e("div",_e,[e("div",be,[h(f(a.user.name)+" ",1),qe])]),e("div",we,[e("h3",De,f(a.title),1),e("h3",$e,f(a.created_at),1)]),o(s(M),null,{default:r(({open:y})=>[o(s(B),{class:"flex mt-2 text-left space-x-1.5 text-sm font-medium text-gray-700"},{default:r(()=>[ke,o(s(A),{class:g([y?"":"rotate-180 transform","h-4 w-4 self-center text-gray-700"])},null,8,["class"])]),_:2},1024),o(s(I),null,{default:r(()=>[e("div",Pe,[e("div",Re,[e("div",je,[Ce,e("p",null,f(a.detail),1)])]),e("div",Ve,[e("dl",null,[Qe,e("dd",Se,f(a.currently_received),1)]),e("dl",Be,[Ae,e("dd",Ie,f(a.target_amount),1)])])])]),_:2},1024)]),_:2},1024)]),e("div",Me,[e("div",Oe,[Ue,a.progress=="100%"?(u(),p($,{key:0},[a.is_verified?(u(),p("div",ze,[Ee,o(s(le),{class:"h-3 w-3 text-blue-500 ml-1 self-center"})])):(u(),p("button",{key:0,onClick:y=>S(a.id),class:"px-1.5 py-1 ml-4 rounded-md bg-indigo-500 hover:bg-opacity-50 text-white"}," mark as verify ",8,Te))],64)):q("",!0)])])])):q("",!0),a.status=="pending"?(u(),p("div",Ne,[e("div",Fe,[e("div",Ge,[e("div",Ye,[h(f(a.user.name)+" ",1),Le])]),e("div",He,[e("h3",Ke,f(a.title),1),e("h3",Xe,f(a.created_at),1)]),o(s(M),null,{default:r(({open:y})=>[o(s(B),{class:"flex mt-2 text-left space-x-1.5 text-sm font-medium text-gray-700"},{default:r(()=>[Je,o(s(A),{class:g([y?"":"rotate-180 transform","h-4 w-4 self-center text-gray-700"])},null,8,["class"])]),_:2},1024),o(s(I),null,{default:r(()=>[e("div",We,[e("div",Ze,[e("div",et,[tt,e("p",null,f(a.detail),1)])]),e("div",st,[e("dl",null,[at,e("dd",ot,f(a.target_amount),1)])])])]),_:2},1024)]),_:2},1024)]),e("div",nt,[e("div",rt,[e("button",{class:"text-green-500 inline-flex",onClick:y=>b(a.id)},[h(" Approve "),o(s(ne),{class:"h-4 w-4 ml-1.5 self-center"})],8,lt),e("button",{class:"text-red-500 inline-flex",onClick:y=>D(a.id)},[h(" Reject "),o(s(re),{class:"h-4 w-4 ml-1.5 self-center"})],8,it)])])])):q("",!0),a.status=="rejected"?(u(),p("div",dt,[e("div",ut,[e("div",mt,[e("div",ct,[h(f(a.user.name)+" ",1),ft])]),e("div",yt,[e("h3",pt,f(a.title),1),e("h3",gt,f(a.created_at),1)]),o(s(M),null,{default:r(({open:y})=>[o(s(B),{class:"flex mt-2 text-left space-x-1.5 text-sm font-medium text-gray-700"},{default:r(()=>[vt,o(s(A),{class:g([y?"":"rotate-180 transform","h-4 w-4 self-center text-gray-700"])},null,8,["class"])]),_:2},1024),o(s(I),null,{default:r(()=>[e("div",xt,[e("div",ht,[e("div",_t,[bt,e("p",null,f(a.detail),1)])])])]),_:2},1024)]),_:2},1024)])])):q("",!0)],64))),128)):(u(),p("h3",qt,"No result"))]),o(Q,{links:s(l).links},null,8,["links"])])]),e("div",wt,[e("div",Dt,[$t,o(V,{"focus-input":!!(t.queryParams.search&&t.queryParams.role=="admin"&&t.queryParams.model=="Donation"),placeholder:"Search donator / receiver / title",modelValue:m.value,"onUpdate:modelValue":n[7]||(n[7]=a=>m.value=a),onInput:n[8]||(n[8]=a=>i.$emit("searchQuery",m.value,"","admin","Donation")),onClick:n[9]||(n[9]=a=>i.$emit("searchQuery",m.value,"","admin","Donation"))},null,8,["focus-input","modelValue"]),o(U,{"header-data":["#","Donator","Receiver","Title","Amount","Date"],"body-data":s(v).data,type:"user-histories"},null,8,["body-data"]),o(Q,{links:s(v).links},null,8,["links"])])])],64))}},Pt={class:"max-w-7xl mx-auto mb-8 sm:px-6 lg:px-8"},Rt={class:"bg-white p-2 sm:p-4 relative shadow-md sm:rounded-lg"},jt={class:"text-lg sm:flex sm:justify-between font-semibold"},Ct=e("h2",{class:"text-lg font-semibold"},"Your donation requests",-1),Vt={class:"sm:inline-flex"},Qt=["disabled"],St={class:"sm:flex sm:space-x-1.5"},Bt={class:"px-1 py-1"},At=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),It={class:"fixed inset-0 overflow-y-auto"},Mt={class:"flex min-h-full items-center justify-center p-4 text-center"},Ot=["onSubmit"],Ut={class:"mt-4"},Tt={class:"mt-4"},zt={class:"mt-4"},Et={class:"mt-4"},Nt=e("div",{class:"mt-4"},[e("p",{class:"text-sm text-gray-600"}," You must wait for an admin to approve your request after making this request. "),e("p",{class:"text-sm mt-2 text-gray-600"}," You can delete your donation request while it is in pending state, after the request is approved, it can't be deleted. ")],-1),Ft={class:"flex justify-end space-x-1.5 mt-4"},Gt=["disabled"],Yt={__name:"Needy",props:{needyData:Object,queryParams:Object,queryResult:Object},emits:["searchQuery","statusQuery"],setup(x){const t=x,c=N("$swal"),d=k(!1),m=k(""),l=J({title:"",detail:"",targetAmount:null,bankAccountId:null}),v=P(()=>t.needyData.bankAccounts.length>0),b=P(()=>(t.queryParams.role=="needy"&&t.queryParams.model=="DonationRequest"&&(t.queryParams.search?t.needyData.requestsData.data=t.queryResult:t.needyData.requestsData=t.queryResult),t.needyData.requestsData)),D=()=>{l.transform(i=>({...i})).post(route("needy.donationRequest.store"),{preserveScroll:!1,onSuccess:()=>{d.value=!1,l.reset()}})},S=i=>{c.fire({title:"Delete this request?",icon:"warning",showCancelButton:!0,confirmButtonColor:"color: rgb(99 102 241);",cancelButtonColor:"#d33",confirmButtonText:"Delete"}).then(n=>{n.value&&w.Inertia.delete(`/needy/donation-request/${i}`,{preserveScroll:!1})})};return O(()=>{t.queryParams.search&&t.queryParams.role=="needy"&&t.queryParams.model=="DonationRequest"&&(m.value=t.queryParams.search)}),(i,n)=>(u(),p($,null,[e("div",Pt,[e("div",Rt,[e("div",jt,[Ct,e("div",Vt,[e("p",{class:g(["text-sm text-red-500 self-start mr-2",s(v)?"hidden":""])}," must have at least one bank account setup. ",2),e("button",{class:g(["w-full sm:w-fit text-sm font-semibold px-3 py-1.5 mt-2 mb-2 sm:mt-0 text-white rounded-md",s(v)?"bg-indigo-500 hover:bg-opacity-50":"bg-indigo-300 cursor-not-allowed"]),onClick:n[0]||(n[0]=a=>d.value=!0),disabled:!s(v)}," make new request ",10,Qt)])]),e("div",St,[o(V,{"focus-input":!!(t.queryParams.search&&t.queryParams.role=="needy"&&t.queryParams.model=="DonationRequest"),placeholder:"search donation title",class:"sm:w-full",modelValue:m.value,"onUpdate:modelValue":n[1]||(n[1]=a=>m.value=a),onInput:n[2]||(n[2]=a=>i.$emit("searchQuery",m.value,"","needy","DonationRequest")),onClick:n[3]||(n[3]=a=>i.$emit("searchQuery",m.value,"","needy","DonationRequest"))},null,8,["focus-input","modelValue"]),o(s(L),{as:"div",class:"relative text-left mb-4 sm:self-center sm:-mb-0"},{default:r(()=>[e("div",null,[o(s(G),{class:"inline-flex w-full justify-center rounded-md bg-indigo-500 px-4 py-2 text-sm font-medium text-white hover:bg-opacity-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},{default:r(()=>[h(f(t.queryParams.status?t.queryParams.status:"options")+" ",1),o(s(H),{class:"ml-2 -mr-1 h-5 w-5 text-violet-200 hover:text-violet-100","aria-hidden":"true"})]),_:1})]),o(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r(()=>[o(s(Y),{class:"absolute mt-2 z-20 w-full sm:w-26 divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:r(()=>[e("div",Bt,[o(s(_),null,{default:r(({active:a})=>[e("button",{class:g([a?"bg-gray-200":"","group text-gray-900 flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:n[4]||(n[4]=y=>i.$emit("statusQuery","","","needy","DonationRequest"))}," None ",2)]),_:1}),o(s(_),null,{default:r(({active:a})=>[e("button",{class:g([a?"bg-gray-200":"",t.queryParams.status=="approved"?"bg-gray-200":"","group text-indigo-500 flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:n[5]||(n[5]=y=>i.$emit("statusQuery","","approved","needy","DonationRequest"))}," Approved ",2)]),_:1}),o(s(_),null,{default:r(({active:a})=>[e("button",{class:g([a?"bg-gray-200":"",t.queryParams.status=="pending"?"bg-gray-200":"","group text-orange-500 flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:n[6]||(n[6]=y=>i.$emit("statusQuery","","pending","needy","DonationRequest"))}," Pending ",2)]),_:1}),o(s(_),null,{default:r(({active:a})=>[e("button",{class:g([a?"bg-gray-200":"",t.queryParams.status=="rejected"?"bg-gray-200":"","group text-red-500 flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:n[7]||(n[7]=y=>i.$emit("statusQuery","","rejected","needy","DonationRequest"))}," Rejected ",2)]),_:1})])]),_:1})]),_:1})]),_:1})]),o(U,{"header-data":["#","Title","Progress","Status","Requested Date","Verified","Verification Expiry Date","Actions"],"body-data":s(b).data,type:"needy-requests",onDeleteDonationRequest:S},null,8,["body-data"]),o(Q,{links:s(b).links},null,8,["links"])])]),o(s(oe),{appear:"",show:d.value,as:"template"},{default:r(()=>[o(s(te),{as:"div",onClose:n[13]||(n[13]=a=>d.value=!0),class:"relative z-10"},{default:r(()=>[o(s(E),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:r(()=>[At]),_:1}),e("div",It,[e("div",Mt,[o(s(E),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:r(()=>[o(s(se),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:r(()=>[e("form",{onSubmit:W(D,["prevent"])},[o(s(ae),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:r(()=>[h(" Make Donation Request ")]),_:1}),e("div",Ut,[o(C,{for:"title",value:"Title"}),o(z,{id:"title",modelValue:s(l).title,"onUpdate:modelValue":n[8]||(n[8]=a=>s(l).title=a),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",placeholder:"Donation title"},null,8,["modelValue"]),o(j,{class:"mt-2",message:s(l).errors.title},null,8,["message"])]),e("div",Tt,[o(C,{for:"detail",value:"Detail"}),o(Z,{id:"detail",modelValue:s(l).detail,"onUpdate:modelValue":n[9]||(n[9]=a=>s(l).detail=a),class:"mt-1 block w-full",required:"",placeholder:"Describe your reason to support title"},null,8,["modelValue"]),o(j,{class:"mt-2",message:s(l).errors.detail},null,8,["message"])]),e("div",zt,[o(C,{for:"target-amount",value:"Target donation amount"}),o(z,{id:"target-amount",modelValue:s(l).targetAmount,"onUpdate:modelValue":n[10]||(n[10]=a=>s(l).targetAmount=a),type:"number",class:"mt-1 block w-full",required:"",placeholder:"500"},null,8,["modelValue"]),o(j,{class:"mt-2",message:s(l).errors.targetAmount},null,8,["message"])]),e("div",Et,[o(C,{for:"bank-acc",value:"Bank account"}),o(ee,{id:"bank-acc",modelValue:s(l).bankAccountId,"onUpdate:modelValue":n[11]||(n[11]=a=>s(l).bankAccountId=a),data:t.needyData.bankAccounts,class:"mt-1 block w-full",required:""},null,8,["modelValue","data"]),o(j,{class:"mt-2",message:s(l).errors.bankAccountId},null,8,["message"])]),Nt,e("div",Ft,[e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-red-500 px-4 py-2 text-sm font-medium text-gray-800 hover:bg-red-400 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",onClick:n[12]||(n[12]=a=>d.value=!1)}," Cancel "),e("button",{type:"submit",class:g(["inline-flex justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",s(l).processing?"bg-indigo-100 cursor-not-allowed":"bg-indigo-500 hover:bg-indigo-400"]),disabled:s(l).processing}," Submit ",10,Gt)])],40,Ot)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}},Lt=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Donations ",-1),Ht={class:"py-12"},us={__name:"Donations",props:{dataRoles:Object,queryResult:Object||Array,queryParams:Object},setup(x){const t=x,c=T.debounce((d="",m="",l,v)=>{let b=!!(d||m);if(!b&&t.queryParams.role){w.Inertia.get("/donations",{},{preserveScroll:!0});return}if(b||t.queryParams.role){let D=T.pickBy({search:d,status:m,role:l,model:v});w.Inertia.get("/donations",D,{preserveScroll:!0});return}},500);return(d,m)=>(u(),R(K,{title:"Donations"},{header:r(()=>[Lt]),default:r(()=>[e("div",Ht,[d.$page.props.inertia.user.roles.includes("donor")?(u(),R(me,{key:0,donorData:t.dataRoles.donor,queryParams:t.queryParams,queryResult:t.queryResult,onSearchQuery:s(c)},null,8,["donorData","queryParams","queryResult","onSearchQuery"])):q("",!0),d.$page.props.inertia.user.roles.includes("admin")?(u(),R(kt,{key:1,adminData:t.dataRoles.admin,queryParams:t.queryParams,queryResult:t.queryResult,onSearchQuery:s(c),onStatusQuery:s(c)},null,8,["adminData","queryParams","queryResult","onSearchQuery","onStatusQuery"])):q("",!0),d.$page.props.inertia.user.roles.includes("needy")?(u(),R(Yt,{key:2,needyData:t.dataRoles.needy,queryParams:t.queryParams,queryResult:t.queryResult,onSearchQuery:s(c),onStatusQuery:s(c)},null,8,["needyData","queryParams","queryResult","onSearchQuery","onStatusQuery"])):q("",!0)])]),_:1}))}};export{us as default};
